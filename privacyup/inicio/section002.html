<div class="container-fluid">
    <div class="row">
        <div class="col-xs-12 col-sm-10 offset-sm-1 col-md-10 offset-md-1 col-lg-10 offset-lg-1 col-xl-10 offset-xl-1">
            <h1>Será que sua empresa precisa se adaptar a LGPD?</h1>
            <p>Responda nosso pequeno quiz para descobrir.</p>
            <a href="#" class="btn btn-tertiary shadow-none" data-bs-toggle="modal" data-bs-target="#quizStart">
                <i class="bi bi-quora"></i> Quiz
            </a>
        </div>
    </div>
</div>
<div class="modal fade" tabindex="-1" aria-hidden="true" aria-labelledby="quizStart" id="quizStart">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <i class="bi bi-x-square"></i> Close
                </button>
                <div class="row">
                    <div class="col-xs-12 col-sm-6 offset-sm-3 col-md-6 offset-md-3 col-lg-6 offset-lg-3 col-xl-6 offset-xl-3 grid">
                        <form action="../api/sendMail-quiz.php" method="post">
                            <input type="hidden" name="quizSubject" value="Participação no Quiz">
                            <input type="hidden" name="score" id="score" value="" >
                            <div class="card card-start">
                                <h1>Você sabe se sua empresa<br>precisa se adaptar a LGPD?</h1>
                                <button class="btn btn-primary shadow-none" onclick="next(1)">
                                    <i class="bi bi-quora"></i> Descobrir!
                                </button>
                            </div>
                            <div class="card">
                                <h1>Quiz</h1>
                                <p class="card-title">Pergunta 1</p>
                                <h4 class="card-text">No desempenho de suas atividades, a empresa armazena dados pessoais - de clientes, funcionários e/ou fornecedores? (Ex: CPF, data de nascimento, e-mail, etc.)</h4>
                                <p class="card-input">
                                    <label><input type="radio" name="question1" value="NÃO" id="nao1" onclick="next(2)">NÃO</label>
                                    <label><input type="radio" name="question1" value="SIM" id="sim1" onclick="next(2)">SIM</label>
                                </p>
                                <button class="btn btn-primary shadow-none" onclick="prev(1)">Voltar</button>
                            </div>
                            <div class="card">
                                <h1>Quiz</h1>
                                <p class="card-title">Pergunta 2</p>
                                <h4 class="card-text">A empresa solicita o consentimento específico para coleta, tratamento de dados e/ou ações de marketing?</h4>
                                <p class="card-input">
                                    <label><input type="radio" name="question2" value="NÃO" id="nao2" onclick="next(3)">NÃO</label>
                                    <label><input type="radio" name="question2" value="SIM" id="sim2" onclick="next(3)">SIM</label>
                                </p>
                                <button class="btn btn-primary shadow-none" onclick="prev(2)">Voltar</button>
                            </div>
                            <div class="card">
                                <h1>Quiz</h1>
                                <p class="card-title">Pergunta 3</p>
                                <h4 class="card-text">A empresa conta atualmente com uma política de dados de cibersegurança e proteção e privacidade de dados?</h4>
                                <p class="card-input">
                                    <label><input type="radio" name="question3" value="NÃO" id="nao3" onclick="next(4)">NÃO</label>
                                    <label><input type="radio" name="question3" value="SIM" id="sim3" onclick="next(4)">SIM</label>
                                </p>
                                <button class="btn btn-primary shadow-none" onclick="prev(3)">Voltar</button>
                            </div>
                            <div class="card">
                                <h1>Quiz</h1>
                                <p class="card-title">Pergunta 4</p>
                                <h4 class="card-text">A empresa possui ações/treinamentos recorrentes visando a conscientização dos colaboradores sobre a importância da segurança de dados?</h4>
                                <p class="card-input">
                                    <label><input type="radio" name="question4" value="NÃO" id="nao4" onclick="next(5)">NÃO</label>
                                    <label><input type="radio" name="question4" value="SIM" id="sim4" onclick="next(5)">SIM</label>
                                </p>
                                <button class="btn btn-primary shadow-none" onclick="prev(4)">Voltar</button>
                            </div>
                            <div class="card">
                                <h1>Quiz</h1>
                                <p class="card-title">Pergunta 5</p>
                                <h4 class="card-text">A empresa conta, atualmente, com planos de resposta a incidentes e remediações no caso de vazamento dos dados?</h4>
                                <p class="card-input">
                                    <label><input type="radio" name="question5" value="NÃO" id="nao5" onclick="next(6)">NÃO</label>
                                    <label><input type="radio" name="question5" value="SIM" id="sim5" onclick="next(6)">SIM</label>
                                </p>
                                <button class="btn btn-primary shadow-none" onclick="prev(5)">Voltar</button>
                            </div>
                            <div class="card">
                                <h1>Quiz</h1>
                                <p class="card-title">Pergunta 6</p>
                                <h4 class="card-text">A empresa possui um Encarregado de Proteção de Dados Nomeado (DPO)?</h4>
                                <p class="card-input">
                                    <label><input type="radio" name="question6" value="NÃO" id="nao6" onclick="next(7)">NÃO</label>
                                    <label><input type="radio" name="question6" value="SIM" id="sim6" onclick="next(7)">SIM</label>
                                </p>
                                <button class="btn btn-primary shadow-none" onclick="prev(6)">Voltar</button>
                            </div>
                            <div class="card">
                                <h1>Quiz</h1>
                                <p class="card-title">Resultado</p>
                                <h4 class="card-text">Para ter acesso aos resultados, preencha os dados abaixo:</h4>
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" name="userName" placeholder="*Seu Nome" required="" oninvalid="this.setCustomValidity('Por favor inserir seu nome')" oninput="setCustomValidity('')">
                                    <label for="floatingInput">*Seu Nome</label>
                                </div>
                                <div class="row">
                                    <div class="col-md">
                                        <div class="form-floating mb-3">
                                            <input type="email" class="form-control" name="userEmail" placeholder="*Seu email" required="" oninvalid="this.setCustomValidity('Por favor inserir seu e-mail')" oninput="setCustomValidity('')">
                                            <label for="floatingInput">*Seu email</label>
                                        </div>
                                    </div>
                                    <div class="col-md">    
                                        <div class="form-floating mb-3">
                                            <input type="text" class="form-control" name="userPhone" placeholder="*Número para contato" required="" oninvalid="this.setCustomValidity('Por favor inserir seu número para contato')" oninput="setCustomValidity('')">
                                            <label for="floatingPassword">*Número para contato</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md">
                                        <div class="form-floating mb-3">
                                            <input type="text" class="form-control" name="userSetor" placeholder="Setor da empresa">
                                            <label for="floatingInput">Setor da empresa</label>
                                        </div>
                                    </div>
                                    <div class="col-md">    
                                        <div class="form-floating mb-3">
                                            <input type="text" class="form-control" name="userQtaFuncionarios" placeholder="Quantidade de Funcionários">
                                            <label for="floatingInput">Quantidade de Funcionários</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-floating mb-3">
                                    <textarea class="form-control" name="userMessage" placeholder="Deixe sua mensagem aqui." style="height:150px" required="" oninvalid="this.setCustomValidity('Digite sua mensagem')" oninput="setCustomValidity('')"></textarea>
                                    <label for="floatingTextarea">Deixe sua mensagem aqui.</label>
                                </div>
                                <p class="card-text small">Campos com * são obrigatórios</p>
                                <!--<button class="btn btn-primary shadow-none" onclick="prev(7)">Voltar</button>-->
                                <button type="submit" class="btn btn-secondary" onclick="result()">
                                    <i class="bi bi-send"></i> Quero avaliar meu resultado!
                                </button>
                            </div>
                        </form>
                        <script>
                            // displaying the first block of question
                            document.getElementsByClassName('card')[0].style.display = "block";

                            // defining the next/prev function
                            function next(id) {
                                document.getElementsByClassName('card')[id - 1].style.display = "none";
                                document.getElementsByClassName('card')[id].style.display = "block";
                            }
                            function prev(id) {
                                document.getElementsByClassName('card')[id - 1].style.display = "block";
                                document.getElementsByClassName('card')[id].style.display = "none";
                            }

                            //getting final result
                            function result() {
                                var score = 0;
                                if (document.getElementById('sim1').checked) {
                                    score++;
                                }
                                if (document.getElementById('sim2').checked) {
                                    score++;
                                }
                                if (document.getElementById('sim3').checked) {
                                    score++;
                                }
                                if (document.getElementById('sim4').checked) {
                                    score++;
                                }
                                if (document.getElementById('sim5').checked) {
                                    score++;
                                }
                                if (document.getElementById('sim6').checked) {
                                    score++;
                                }
                                // print result inside the ID
                                jQuery('#score').val(score);
                                //alert("your score is: "+ score);
                            }
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>